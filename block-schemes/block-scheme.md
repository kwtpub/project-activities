# Псевдокод для построения блок-схемы

## Функция f(x) - вычисление значения функции

```
НАЧАЛО функции f(x)
    ВЫЧИСЛИТЬ denominator = x² + 4x + 3
    
    ЕСЛИ |denominator| < 1e-10 ТО
        ВЫВЕСТИ "Ошибка: особенность в точке x = " + x
        ВЕРНУТЬ NaN
    КОНЕЦ ЕСЛИ
    
    ВЕРНУТЬ 1.0 / denominator
КОНЕЦ функции
```

## Функция F(x) - вычисление первообразной

```
НАЧАЛО функции F(x)
    ВЫЧИСЛИТЬ num = |x + 1|
    ВЫЧИСЛИТЬ den = |x + 3|
    
    ЕСЛИ num < 1e-10 ИЛИ den < 1e-10 ТО
        ВЫВЕСТИ "Ошибка: особенность в первообразной при x = " + x
        ВЕРНУТЬ NaN
    КОНЕЦ ЕСЛИ
    
    ВЕРНУТЬ 0.5 * ln(num / den)
КОНЕЦ функции
```

## Функция exact_integral(a, b) - точное значение интеграла

```
НАЧАЛО функции exact_integral(a, b)
    ВЫЧИСЛИТЬ Fa = F(a)
    ВЫЧИСЛИТЬ Fb = F(b)
    
    ЕСЛИ isnan(Fa) ИЛИ isnan(Fb) ТО
        ВЕРНУТЬ NaN
    КОНЕЦ ЕСЛИ
    
    ВЕРНУТЬ Fb - Fa
КОНЕЦ функции
```

## Функция left_rectangle(a, b, n) - метод левых прямоугольников

```
НАЧАЛО функции left_rectangle(a, b, n)
    ЕСЛИ n <= 0 ТО
        ВЫВЕСТИ "Ошибка: n должно быть положительным"
        ВЕРНУТЬ NaN
    КОНЕЦ ЕСЛИ
    
    ВЫЧИСЛИТЬ h = (b - a) / n
    УСТАНОВИТЬ sum = 0.0
    
    ДЛЯ i ОТ 0 ДО n-1 ВЫПОЛНЯТЬ
        ВЫЧИСЛИТЬ x = a + i * h
        УВЕЛИЧИТЬ sum НА f(x)
    КОНЕЦ ДЛЯ
    
    ВЕРНУТЬ sum * h
КОНЕЦ функции
```

## Функция midpoint_rule(a, b, n) - метод средних точек

```
НАЧАЛО функции midpoint_rule(a, b, n)
    ЕСЛИ n <= 0 ТО
        ВЫВЕСТИ "Ошибка: n должно быть положительным"
        ВЕРНУТЬ NaN
    КОНЕЦ ЕСЛИ
    
    ВЫЧИСЛИТЬ h = (b - a) / n
    УСТАНОВИТЬ sum = 0.0
    
    ДЛЯ i ОТ 0 ДО n-1 ВЫПОЛНЯТЬ
        ВЫЧИСЛИТЬ x_mid = a + (i + 0.5) * h
        УВЕЛИЧИТЬ sum НА f(x_mid)
    КОНЕЦ ДЛЯ
    
    ВЕРНУТЬ sum * h
КОНЕЦ функции
```

## Функция trapezoidal_rule(a, b, n) - метод трапеций

```
НАЧАЛО функции trapezoidal_rule(a, b, n)
    ЕСЛИ n <= 0 ТО
        ВЫВЕСТИ "Ошибка: n должно быть положительным"
        ВЕРНУТЬ NaN
    КОНЕЦ ЕСЛИ
    
    ВЫЧИСЛИТЬ h = (b - a) / n
    ВЫЧИСЛИТЬ sum = 0.5 * (f(a) + f(b))
    
    ДЛЯ i ОТ 1 ДО n-1 ВЫПОЛНЯТЬ
        ВЫЧИСЛИТЬ x = a + i * h
        УВЕЛИЧИТЬ sum НА f(x)
    КОНЕЦ ДЛЯ
    
    ВЕРНУТЬ sum * h
КОНЕЦ функции
```

## Функция has_singularity(a, b) - проверка особенностей

```
НАЧАЛО функции has_singularity(a, b)
    УСТАНОВИТЬ singularities[] = [-1.0, -3.0]
    УСТАНОВИТЬ epsilon = 1e-10
    
    ДЛЯ i ОТ 0 ДО 1 ВЫПОЛНЯТЬ
        ЕСЛИ singularities[i] >= a - epsilon И singularities[i] <= b + epsilon ТО
            ВЕРНУТЬ 1
        КОНЕЦ ЕСЛИ
    КОНЕЦ ДЛЯ
    
    ВЕРНУТЬ 0
КОНЕЦ функции
```

## Основная программа main()

```
НАЧАЛО программы
    УСТАНОВИТЬ точность вывода = 10 знаков после запятой
    
    УСТАНОВИТЬ n = 7
    УСТАНОВИТЬ m = 10
    
    ВЫВЕСТИ заголовок программы
    ВЫВЕСТИ параметры n и m
    
    // ЗАДАНИЕ 1: Точное значение интеграла
    УСТАНОВИТЬ a1 = 0.0, b1 = 1.0
    ВЫВЕСТИ заголовок "ЗАДАНИЕ 1"
    ВЫВЕСТИ информацию об интервале
    
    ВЫЧИСЛИТЬ exact1 = exact_integral(a1, b1)
    ЕСЛИ НЕ isnan(exact1) ТО
        ВЫВЕСТИ "Точное значение интеграла: " + exact1
    КОНЕЦ ЕСЛИ
    
    // ЗАДАНИЕ 2: Левое правило
    ВЫВЕСТИ заголовок "ЗАДАНИЕ 2"
    ВЫВЕСТИ информацию об интервале и n
    
    ВЫЧИСЛИТЬ result2 = left_rectangle(a1, b1, n)
    ЕСЛИ НЕ isnan(result2) ТО
        ВЫВЕСТИ результат и погрешность
    КОНЕЦ ЕСЛИ
    
    // ЗАДАНИЕ 3: Правило средних точек
    ВЫВЕСТИ заголовок "ЗАДАНИЕ 3"
    ВЫВЕСТИ информацию об интервале и n
    
    ВЫЧИСЛИТЬ result3 = midpoint_rule(a1, b1, n)
    ЕСЛИ НЕ isnan(result3) ТО
        ВЫВЕСТИ результат и погрешность
    КОНЕЦ ЕСЛИ
    
    // ЗАДАНИЕ 4: Особенности на [-1, 0]
    ВЫВЕСТИ заголовок "ЗАДАНИЕ 4"
    УСТАНОВИТЬ a4 = -1.0, b4 = 0.0
    ВЫВЕСТИ информацию об интервале и особенностях
    
    ЕСЛИ has_singularity(a4, b4) == 1 ТО
        ВЫВЕСТИ "ПОДТВЕРЖДЕНО: На интервале есть особенность!"
    КОНЕЦ ЕСЛИ
    
    ВЫВЕСТИ заголовок таблицы для демонстрации отсутствия сходимости
    
    ДЛЯ k ОТ 2 ДО m ВЫПОЛНЯТЬ
        ВЫЧИСЛИТЬ integral = trapezoidal_rule(a4, b4, k)
        ЕСЛИ isnan(integral) ТО
            ВЫВЕСТИ k + " NaN (ошибка)"
        ИНАЧЕ
            ВЫВЕСТИ k + " " + integral
        КОНЕЦ ЕСЛИ
    КОНЕЦ ДЛЯ
    
    ВЫВЕСТИ заключение о отсутствии сходимости
    
    ЗАВЕРШИТЬ программу (вернуть 0)
КОНЕЦ программы
```

## Основной поток выполнения

```
НАЧАЛО
    ↓
Инициализация параметров (n=7, m=10)
    ↓
ЗАДАНИЕ 1: Вычисление точного значения интеграла на [0, 1]
    ↓
ЗАДАНИЕ 2: Метод левых прямоугольников
    ↓
ЗАДАНИЕ 3: Метод средних точек
    ↓
ЗАДАНИЕ 4: Проверка особенностей на [-1, 0]
    ↓
    Цикл демонстрации отсутствия сходимости (k от 2 до m)
    ↓
Вывод результатов
    ↓
КОНЕЦ
```
